## Decap CMS with custom GitHub OAuth authentication.
## The admin page (index.html) handles GitHub OAuth login and verification.
## Once authenticated, the CMS uses a test backend to save edits.
backend:
  name: test_backend

media_folder: "public/uploads"
public_folder: "/uploads"

publish_mode: editorial_workflow

site_url: "https://jack.thenas.us"
display_url: "https://jack.thenas.us"

collections:
  - name: site
    label: Site Content
    files:
      - label: Landing Page
        name: landing
        file: content/site.json
        format: json
        fields:
          - label: Identity
            name: identity
            widget: object
            fields:
              - { label: Name, name: name, widget: string }
              - { label: Title, name: title, widget: string }
              - { label: Tagline, name: tagline, widget: text }
          - label: Hero
            name: hero
            widget: object
            fields:
              - { label: Summary, name: summary, widget: text }
              - { label: Availability, name: availability, widget: string }
              - label: Primary Action
                name: primaryAction
                widget: object
                required: false
                fields:
                  - { label: Label, name: label, widget: string }
                  - { label: URL, name: href, widget: string }
              - label: Secondary Action
                name: secondaryAction
                widget: object
                required: false
                fields:
                  - { label: Label, name: label, widget: string }
                  - { label: URL, name: href, widget: string }
              - label: Metrics
                name: metrics
                widget: list
                summary: "{{fields.label}} — {{fields.value}}"
                fields:
                  - { label: Label, name: label, widget: string }
                  - { label: Value, name: value, widget: string }
          - label: Sections
            name: sections
            widget: list
            summary: "{{fields.heading}}"
            fields:
              - { label: Heading, name: heading, widget: string }
              - { label: Body, name: body, widget: text }
          - label: Highlights
            name: highlights
            widget: list
            summary: "{{fields.title}} — {{fields.meta}}"
            fields:
              - { label: Title, name: title, widget: string }
              - { label: Meta, name: meta, widget: string, hint: "e.g., date or achievement metric" }
              - label: Description
                name: description
                widget: text
                hint: "Enter text, HTML, or use the image picker below"
              - label: Image
                name: image
                widget: image
                required: false
                allow_multiple: false
                media_library:
                  max_file_size: 5242880
                hint: "Optional: Select an image to display. Will be automatically inserted and watermarked"
              - label: Code/HTML
                name: code
                widget: text
                required: false
                hint: "Optional: Raw HTML/code to insert. Will override image if both are provided. Example: <div>...</div>"
          - label: Contact
            name: contact
            widget: object
            fields:
              - { label: Note, name: note, widget: text }
              - { label: Email, name: email, widget: string }
              - label: Socials
                name: socials
                widget: list
                fields:
                  - { label: Label, name: label, widget: string }
                  - { label: URL, name: href, widget: string }
